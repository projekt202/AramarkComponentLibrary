@import "styles";

@mixin button-base {
  border: 0;
  border-radius: 8px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-family: $font-main;
  font-style: normal;
  font-weight: 500;
  text-decoration: none;
  transition: all 0.25s;
  text-align: center;
  &__icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    &--right {
      order: 1;
    }
  }
  &:focus-visible {
    outline: none;
  }
  &--bg-white,
  &.armk-btn-white {
    background-color: $c-white;
    color: $c-black;
    &:hover {
      background-color: $c-gray-lgt;
    }
    &:focus-visible {
      box-shadow: 0 0 0 4px rgba($c-white, 0.4);
    }
  }
  &--bg-black,
  &.armk-btn-black {
    background-color: $c-black;
    color: $c-white;
    &:hover {
      background-color: $c-black-lgt;
    }
    &:focus-visible {
      box-shadow: 0 0 0 4px rgba($c-black, 0.4);
    }
  }
  &--bg-red,
  &.armk-btn-red {
    background-color: $c-red;
    color: $c-white;
    &:hover {
      background-color: $c-red-drk;
    }
    &:focus-visible {
      box-shadow: 0 0 0 4px rgba($c-red, 0.4);
    }
  }
  &--bg-transparent,
  &.armk-btn-transparent {
    font-size: 14px;
    color: $c-black;
    &:hover {
      color: $c-red;
    }
    &:focus-visible {
      outline: $c-red solid 1px;
      box-shadow: 0 0 0 5px rgba($c-red, 0.4);
    }
  }
  &--bg-outline,
  &.armk-btn-outline {
    background-color: transparent;
    box-shadow: 0 0 0 2px $c-black inset;
    color: $c-black;
    &:hover {
      background-color: $c-white-lgt;
    }
    &:focus-visible {
      box-shadow: 0 0 0 2px $c-red inset, 0 0 0 4px rgba($c-red, 0.4);
    }
    &.button--disabled {
      color: rgba($c-black, 0.6);
      border-color: rgba($c-black, 0.6);
      background-color: rgba($c-white, 0.6);
    }
  }
  &--primary-brand {
    background-color: color(primary, brand);
    border-radius: to-rem(8);
    .button__icon,
    .button__label {
      ::ng-deep {
        .icon span,
        .typography {
          color: color(neutral, white);
        }
      }
    }
    &:hover {
      background-color: color(primary, medium);
    }
    &:focus {
      background-color: color(primary, dark);
    }
    &:focus-visible {
      background-color: color(primary, brand);
      box-shadow: none;
      outline: 2px solid color(support, focus);
    }
  }
  &--primary-neutral {
    background-color: color(neutral, black);
    border-radius: to-rem(8);
    .button__icon,
    .button__label {
      ::ng-deep {
        .icon span,
        .typography {
          color: color(neutral, white);
        }
      }
    }
    &:hover {
      background-color: color(neutral, 07);
    }
    &:focus {
      background-color: color(neutral, 08);
    }
    &:focus-visible {
      background-color: color(neutral, black);
      box-shadow: none;
      outline: 2px solid color(support, focus);
    }
  }
  &--secondary {
    box-sizing: border-box;
    border: 2px solid color(neutral, black);
    background-color: color(neutral, white);
    border-radius: to-rem(8);
    .button__icon,
    .button__label {
      ::ng-deep {
        .icon span,
        .typography {
          color: color(neutral, black);
        }
      }
    }
    &:hover {
      background-color: color(neutral, 02);
    }
    &:focus {
      background-color: color(neutral, 03);
    }
    &:focus-visible {
      background-color: color(neutral, white);
      box-shadow: none;
      outline: 2px solid color(support, focus);
    }
  }
  &--tertiary {
    background-color: transparent;
    border-radius: to-rem(8);
    .button__icon,
    .button__label {
      ::ng-deep {
        .icon span,
        .typography {
          color: color(neutral, black);
        }
      }
    }
    &:hover {
      background-color: color(neutral, 01);
      .button__icon,
      .button__label {
        ::ng-deep {
          .icon span,
          .typography {
            color: color(primary, brand);
          }
        }
      }
    }
    &:focus {
      background-color: color(neutral, 01);
      .button__icon,
      .button__label {
        ::ng-deep {
          .icon span,
          .typography {
            color: color(primary, dark);
          }
        }
      }
    }
    &:focus-visible {
      background-color: color(neutral, 01);
      box-shadow: none;
      outline: 2px solid color(support, focus);
      .button__icon,
      .button__label {
        ::ng-deep {
          .icon span,
          .typography {
            color: color(neutral, black);
          }
        }
      }
    }
  }
  &--fullwidth {
    width: 100%;
  }
  &--disabled {
    pointer-events: none;
    background-color: color(neutral, 01);
    color: color(neutral, 06);
    &.button--bg-transparent {
      background-color: transparent;
    }
    &.button--secondary {
      border-color: color(neutral, 03);
    }
  }
  &--size {
    &-small {
      padding: spacing(04);
      @include iota-breakpoint(md) {
        padding: spacing(03) spacing(04);
      }
      .button__icon {
        ::ng-deep {
          .icon {
            font-size: 15px;
          }
        }
        &--left {
          margin-right: 7px;
        }
        &--right {
          margin-left: 7px;
        }
      }
    }
    &-medium {
      font-size: 14px;
      line-height: 20px;
      padding: 14px spacing(05);
      @include iota-breakpoint(md) {
        padding: spacing(04) spacing(05);
      }
      .button__icon {
        ::ng-deep {
          .icon {
            font-size: 20px;
          }
        }
        &--left {
          margin-right: 9px;
        }
        &--right {
          margin-left: 9px;
        }
      }
    }
    &-large {
      font-size: 16px;
      line-height: 24px;
      padding: spacing(05);
      @include iota-breakpoint(md) {
        padding: spacing(04) spacing(05);
      }
      .button__icon {
        ::ng-deep {
          .icon {
            font-size: 25px;
          }
        }
        &--left {
          margin-right: 12px;
        }
        &--right {
          margin-left: 12px;
        }
      }
    }
  }
}

.button {
  @include button-base();
}

:host ::ng-deep .button {
  &__icon {
    span {
      color: $c-white;
    }
  }
  &--bg-white,
  &--bg-transparent {
    .button {
      &__icon {
        span {
          color: $c-black;
          transition: color 0.25s;
        }
      }
    }
  }
  &--bg-transparent {
    &:hover {
      .button {
        &__icon {
          span {
            color: $c-red;
          }
        }
      }
    }
  }
  &--bg-outline {
    .button {
      &__icon {
        span {
          color: $c-black;
        }
      }
    }
  }
  &--disabled {
    .button {
      &__icon {
        span {
          color: $c-white-drk;
        }
      }
    }
  }
}
