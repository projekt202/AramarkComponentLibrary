@import "styles";

.dropdown {
  border: 0;
  position: relative;
  &__label {
    margin-bottom: 5px;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    ::ng-deep {
      .typography {
        font-weight: 500;
      }
    }
    &-required-mark {
      ::ng-deep {
        .typography {
          color: $c-red;
          margin-left: 3px;
        }
      }
    }
  }
  &__main {
    position: relative;
  }
  &__control {
    ::ng-deep {
      .ng-select {
        position: relative;
        &:before {
          top: 0;
          left: 0;
          content: "";
          width: 100%;
          height: 100%;
          display: none;
          position: absolute;
          border-radius: 5px;
          pointer-events: none;
          box-shadow: 0px 0px 10px 2px rgba(color(neutral, black), 0.102);
        }
        .ng-select-container {
          width: 100%;
          padding: 11px 15px;
          border-radius: 5px;
          background-color: color(neutral, white);
          border: 1px solid color(neutral, 03);
          transition: border-color 0.25s;
          input {
            caret-color: transparent;
            padding: 0 15px !important;
            color: $c-black !important;
            font-size: 16px !important;
            font-weight: 500 !important;
            font-family: $font-main !important;
            width: calc(100% - 30px) !important;
          }
          &:hover {
            border-color: color(neutral, black);
          }
          &.ng-has-value {
            .ng-value ::ng-deep .typography {
              font-weight: 500;
            }
          }
        }
        .ng-option,
        .ng-placeholder {
          font-size: 16px;
          font-weight: 300;
          color: $c-white-drk;
          font-family: $font-main;
        }
        .ng-value {
          hyphens: auto !important;
          padding-right: 30px !important;
          white-space: normal !important;
          .typography {
            line-height: 16px;
          }
          .check-icon {
            display: none;
          }
        }
        .ng-clear-wrapper {
          display: none;
        }
        .ng-dropdown-panel {
          padding: 6px 0;
          z-index: 1 !important;
          border: 1px solid color(support, focus);
          background-color: $c-white;
          border-bottom-left-radius: 5px;
          border-bottom-right-radius: 5px;
          .ng-option {
            color: $c-black;
            padding: 6px spacing(05);
            &:hover,
            &-marked,
            &-selected {
              color: color(neutral, white);
              background-color: color(neutral, black);
              .typography {
                color: color(neutral, white);
                font-weight: 500;
              }
            }
            &-label {
              display: flex;
              align-items: center;
              justify-content: space-between;
              .check-icon {
                display: none;
              }
            }
            &-selected {
              .ng-option-label .check-icon {
                display: block;
              }
            }
          }
        }
        &-opened {
          .ng-select-container {
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
            &:after {
              content: "";
              position: absolute;
              z-index: 1;
              bottom: 0;
              left: 50%;
              transform: translateX(-50%);
              width: calc(100% - 2px);
              height: 1px;
              background-color: color(neutral, black);
            }
          }
          .ng-dropdown-panel {
            &:before {
              content: "";
              position: absolute;
              z-index: 1;
              top: -1px;
              left: 50%;
              width: calc(100% - 2px);
              height: 2px;
              transform: translateX(-50%);
              background-color: color(neutral, white);
            }
          }
          &:before {
            display: block;
          }
        }
        &-opened,
        &-focused {
          .ng-select-container {
            border-color: color(support, focus);
            box-shadow: inset 0 0 0 1px color(support, focus);
            &:hover {
              border-color: color(support, focus);
            }
          }
          .ng-dropdown-panel {
            box-shadow: 0px 0px 10px 2px rgba(color(neutral, black), 0.102),
              inset 0 0 0 1px color(support, focus);
          }
          &.ng-select-opened {
            &:before {
              height: calc(100% - 8px);
              border-bottom-left-radius: 0;
              border-bottom-right-radius: 0;
            }
            .ng-select-container {
              border-bottom-width: 0;
            }
          }
        }
        &.ng-dirty {
          .ng-placeholder {
            display: none;
          }
        }
      }
    }
    &.no-value {
      ::ng-deep {
        .ng-select {
          &.ng-dirty {
            .ng-placeholder {
              display: block;
              padding-right: 30px;
            }
          }
        }
      }
    }
  }
  &__arrow {
    top: 50%;
    right: 15px;
    z-index: 1002;
    position: absolute;
    pointer-events: none;
    transform: translateY(-50%);
    display: flex;
    align-items: center;
    justify-content: center;
  }
  &__status {
    padding: spacing(03) spacing(03) 0 0;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    &-content {
      flex: 1;
      margin-left: spacing(03);
    }
  }
  &--negative {
    .dropdown {
      &__control {
        ::ng-deep {
          .ng-select {
            .ng-select-container {
              border-color: color(support, error);
              box-shadow: inset 0 0 0 1px color(support, error);
            }
            .ng-dropdown-panel {
              border: 1px solid color(support, error);
            }
            &-opened,
            &-focused {
              .ng-select-container {
                border-color: color(support, error);
                box-shadow: inset 0 0 0 1px color(support, error);
                &:hover {
                  border-color: color(support, error);
                }
              }
              .ng-dropdown-panel {
                box-shadow: 0px 0px 10px 2px rgba(color(neutral, black), 0.102),
                  inset 0 0 0 1px color(support, error);
              }
            }
          }
        }
      }
      &__status {
        &-content {
          color: color(support, error);
          ::ng-deep .typography {
            color: color(support, error);
          }
        }
      }
    }
  }
  &--positive {
    .dropdown {
      &__status {
        &-content {
          color: color(support, success);
          ::ng-deep .typography {
            color: color(support, success);
          }
        }
      }
    }
  }
  &--size {
    &-small {
      .dropdown {
        &__control {
          ::ng-deep .ng-select .ng-select-container {
            padding: spacing(03) spacing(05);
            padding-right: spacing(08);
          }
        }
      }
    }
    &-medium {
      .dropdown {
        &__control {
          ::ng-deep .ng-select .ng-select-container {
            padding: spacing(04) spacing(05);
            padding-right: spacing(08);
          }
        }
      }
    }
  }
  &--disabled {
    pointer-events: none;
    .dropdown {
      &__control {
        ::ng-deep {
          .ng-select-container {
            border-color: color(neutral, 01);
            background-color: color(neutral, 01);
          }
        }
      }
      &__arrow {
        svg path {
          fill: color(neutral, 06);
        }
      }
    }
  }
}
